[toc]

# 处理器体系结构

一个处理器支持的指令和指令的字节级编码称为它的指令集体系结构 (Instruction-Set Architecture, ISA)。 不同的处理器家族都有不同的 ISA。一个程序编译成在一种机器上运行，就不能在另一种机器上运行。

- 从智力方面来说，处理器设计是非常有趣而且很重要的。处理器设计包括许多好的工程实践原理。它需要完成复杂的任务，而结构又要尽可能简单和规则。

- 理解处理器如何工作能帮助理解整个计算机系统如何工作。

- 虽然很少有人设计处理器，但是许多人设计包含处理器的硬件系统。

本章定义一个简单的指令集，作为处理器实现的运行示例，称之为 Y86 指令集。


## Y86 指令集体系结构

定义一个指令集体系结构，包括定义各种状态元素、指令集和它们的编码、一组编码规范和异常事件处理。


### 程序员可见的状态

程序员可见状态包括：程序寄存器、条件码、FC、程序状态 Stat、存储器及 PC


### Y86 指令



### 指令编码

每条指令需要 1～6 个字节不等，这取决于需要哪些字段。每条指令的第一个字节表面指令的类型。这个字节分为两个部分：高 4 位是代码 (code) 部分，低 4 位是功能 (function) 部分。


### Y86 异常

对 Y86 来说，程序员可见状态包括状态码 Stat，它描述程序执行的总体状态。

值 | 名字 | 含义
|---|---|---|
1 | AOK | 正常操作
2 | HLT | 处理器执行 halt 指令
3 | ADR | 遇到非法地址
4 | INS | 遇到非法指令


### Y86 程序


### 一些 Y86 指令的详情




## 逻辑设计和硬件控制语言 HCL

实现一个数字系统需要三那个主要的组成部分：
- 计算对位进行操作的函数组合逻辑
- 存储位的存储器元素
- 控制存储器元素更新的时钟信号


### 逻辑门

逻辑门是数字电路的基本计算元素。他们产生的输出，等于他们输入位值的某个布尔函数。逻辑门总是活动的，一旦一个门的输入变化了，在很短时间内，输出就会相应地变化。


### 组合电路和 HCL 布尔表达式

将很多逻辑门组合成一个网，就能构建计算块 (computational block)，称为组合电路 (combinational circuits)。构建这些网有两条限制：

- 两个或多个逻辑门的输出不能连接在一起。

- 这个网必须是无环的


### 字级的组合电路和 HCL 整数表达式



